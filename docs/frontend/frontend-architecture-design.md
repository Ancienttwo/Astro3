# AstroZi Mutual Aid System - å‰ç«¯æ¶æ„è®¾è®¡

## ğŸ“‹ **æ–‡æ¡£ä¿¡æ¯**
- **ç‰ˆæœ¬**: 1.0
- **æ—¥æœŸ**: 2025-01-09
- **ä½œè€…**: å‰ç«¯æ¶æ„å›¢é˜Ÿ
- **çŠ¶æ€**: è®¾è®¡é˜¶æ®µ

---

## ğŸ—ï¸ **æ¶æ„æ¦‚è§ˆ**

### **æ ¸å¿ƒè®¾è®¡åŸåˆ™**
1. **ç”¨æˆ·ä¼˜å…ˆ** - ä»¥ç”¨æˆ·ä½“éªŒä¸ºä¸­å¿ƒçš„è®¾è®¡
2. **æ–‡åŒ–æ•æ„Ÿ** - å°Šé‡ä¼ ç»Ÿæ–‡åŒ–çš„ç°ä»£åŒ–å‘ˆç°
3. **æ¸è¿›å¢å¼º** - ä»åŸºç¡€åŠŸèƒ½åˆ°é«˜çº§Web3åŠŸèƒ½çš„å¹³æ»‘è¿‡æ¸¡
4. **ç§»åŠ¨ä¼˜å…ˆ** - å“åº”å¼è®¾è®¡ï¼Œä¼˜å…ˆè€ƒè™‘ç§»åŠ¨ç«¯ä½“éªŒ
5. **å¯è®¿é—®æ€§** - åŒ…å®¹æ€§è®¾è®¡ï¼Œæ”¯æŒæ‰€æœ‰ç”¨æˆ·ç¾¤ä½“

### **æŠ€æœ¯æ ˆæ¶æ„**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ç”¨æˆ·ç•Œé¢å±‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ React Components + Tailwind CSS + Framer Motion â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                çŠ¶æ€ç®¡ç†å±‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Zustand + React Query + Context API          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                è·¯ç”±å’Œå¯¼èˆªå±‚                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Next.js App Router + Dynamic Routing         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                æ•°æ®è®¿é—®å±‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ API Routes + Supabase Client + Web3 Hooks    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                æœåŠ¡é›†æˆå±‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Supabase + Blockchain + External APIs        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ **ç”¨æˆ·ç•Œé¢è®¾è®¡ç³»ç»Ÿ**

### **é¢œè‰²ç³»ç»Ÿ**
```css
/* ä¸»è‰²è°ƒ - ä¼ ç»Ÿä¸­å›½è‰²å½© */
:root {
  /* ä¸»è‰² - æœ±ç ‚çº¢ */
  --primary-50: #fef2f2;
  --primary-100: #fee2e2;
  --primary-500: #ef4444;
  --primary-600: #dc2626;
  --primary-700: #b91c1c;
  --primary-900: #7f1d1d;

  /* è¾…è‰² - å¢¨ç‰ç»¿ */
  --secondary-50: #f0fdf4;
  --secondary-100: #dcfce7;
  --secondary-500: #22c55e;
  --secondary-600: #16a34a;
  --secondary-700: #15803d;

  /* é‡‘è‰² - ç‚¹ç¼€è‰² */
  --accent-50: #fffbeb;
  --accent-100: #fef3c7;
  --accent-500: #f59e0b;
  --accent-600: #d97706;
  --accent-700: #b45309;

  /* ä¸­æ€§è‰² */
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-500: #6b7280;
  --gray-700: #374151;
  --gray-900: #111827;
}
```

### **å­—ä½“ç³»ç»Ÿ**
```css
/* å­—ä½“å±‚çº§ */
.text-display {
  font-size: 3.5rem;
  font-weight: 800;
  line-height: 1.1;
}

.text-h1 {
  font-size: 2.5rem;
  font-weight: 700;
  line-height: 1.2;
}

.text-h2 {
  font-size: 2rem;
  font-weight: 600;
  line-height: 1.3;
}

.text-body {
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.6;
}

.text-small {
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.5;
}
```

### **é—´è·ç³»ç»Ÿ**
```css
/* æ ‡å‡†åŒ–é—´è· */
.space-xs { margin: 0.5rem; }
.space-sm { margin: 1rem; }
.space-md { margin: 1.5rem; }
.space-lg { margin: 2rem; }
.space-xl { margin: 3rem; }
.space-2xl { margin: 4rem; }
```

---

## ğŸ“± **å“åº”å¼è®¾è®¡ç­–ç•¥**

### **æ–­ç‚¹ç³»ç»Ÿ**
```css
/* Mobile First æ–­ç‚¹ */
.breakpoints {
  xs: 320px;  /* è¶…å°å±å¹• */
  sm: 640px;  /* å°å±å¹• */
  md: 768px;  /* å¹³æ¿ */
  lg: 1024px; /* ç¬”è®°æœ¬ */
  xl: 1280px; /* æ¡Œé¢ */
  2xl: 1536px; /* å¤§å±å¹• */
}
```

### **å¸ƒå±€ç­–ç•¥**
- **ç§»åŠ¨ç«¯**: å•åˆ—å¸ƒå±€ï¼Œé‡ç‚¹çªå‡ºæ ¸å¿ƒåŠŸèƒ½
- **å¹³æ¿ç«¯**: åŒåˆ—å¸ƒå±€ï¼Œä¾§è¾¹æ å¯¼èˆª
- **æ¡Œé¢ç«¯**: å¤šåˆ—å¸ƒå±€ï¼Œå®Œæ•´åŠŸèƒ½å±•ç¤º

---

## ğŸ”§ **ç»„ä»¶æ¶æ„è®¾è®¡**

### **ç»„ä»¶å±‚çº§ç»“æ„**
```
components/
â”œâ”€â”€ ui/                    # åŸºç¡€UIç»„ä»¶
â”‚   â”œâ”€â”€ Button/
â”‚   â”œâ”€â”€ Input/
â”‚   â”œâ”€â”€ Card/
â”‚   â”œâ”€â”€ Modal/
â”‚   â””â”€â”€ Toast/
â”œâ”€â”€ layouts/               # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ MainLayout/
â”‚   â”œâ”€â”€ AuthLayout/
â”‚   â””â”€â”€ MobileLayout/
â”œâ”€â”€ mutual-aid/           # äº’åŠ©ç³»ç»Ÿä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ AdversityAnalyzer/
â”‚   â”œâ”€â”€ CommunityValidator/
â”‚   â”œâ”€â”€ AidRequestForm/
â”‚   â””â”€â”€ ValidationDashboard/
â”œâ”€â”€ fortune/              # ç®—å‘½ç³»ç»Ÿç»„ä»¶
â”‚   â”œâ”€â”€ GuandiSlipDrawer/
â”‚   â”œâ”€â”€ FortuneDisplay/
â”‚   â””â”€â”€ JiaobeiComponent/
â”œâ”€â”€ nft/                  # NFTç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ NFTGallery/
â”‚   â”œâ”€â”€ CollectionStats/
â”‚   â””â”€â”€ TransferModal/
â””â”€â”€ web3/                 # Web3é›†æˆç»„ä»¶
    â”œâ”€â”€ WalletConnector/
    â”œâ”€â”€ TransactionStatus/
    â””â”€â”€ NetworkSwitcher/
```

### **æ ¸å¿ƒç»„ä»¶è§„èŒƒ**

#### **æŒ‰é’®ç»„ä»¶ (Button)**
```tsx
interface ButtonProps {
  variant: 'primary' | 'secondary' | 'outline' | 'ghost';
  size: 'sm' | 'md' | 'lg';
  loading?: boolean;
  disabled?: boolean;
  icon?: ReactNode;
  children: ReactNode;
  onClick?: () => void;
}
```

#### **å¡ç‰‡ç»„ä»¶ (Card)**
```tsx
interface CardProps {
  variant: 'default' | 'fortune' | 'aid-request' | 'nft';
  padding: 'sm' | 'md' | 'lg';
  shadow: 'none' | 'sm' | 'md' | 'lg';
  border?: boolean;
  children: ReactNode;
}
```

#### **æ¨¡æ€æ¡†ç»„ä»¶ (Modal)**
```tsx
interface ModalProps {
  open: boolean;
  onClose: () => void;
  title: string;
  size: 'sm' | 'md' | 'lg' | 'xl';
  children: ReactNode;
}
```

---

## ğŸ¨ **äº’åŠ©ç³»ç»ŸUIè®¾è®¡**

### **æ ¸å¿ƒç”¨æˆ·æµç¨‹ç•Œé¢**

#### **1. å„è¿é¢„è­¦åˆ†æç•Œé¢**
```tsx
// è®¾è®¡è¦æ±‚
interface AdversityAnalyzerUI {
  // è¾“å…¥åŒºåŸŸ
  personalContext: FormSection;
  birthDataInput: BaziInputGroup;
  jiaobeiConfirmation: InteractiveComponent;
  
  // åˆ†æç»“æœå±•ç¤º
  severityIndicator: VisualGauge; // 1-10çº§å¯è§†åŒ–
  aiAnalysisCard: AnalysisResultCard;
  recommendationsPanel: ActionableList;
  
  // äº’åŠ©ç”³è¯·åŒºåŸŸ
  aidRequestButton: CTAButton;
  estimatedSupport: AmountDisplay;
}
```

**è§†è§‰è®¾è®¡ç‰¹ç‚¹:**
- ä½¿ç”¨æ¸å˜è‰²è¡¨ç¤ºä¸¥é‡ç¨‹åº¦ (ç»¿â†’é»„â†’çº¢)
- ä¼ ç»Ÿå…«å¦å…ƒç´ è£…é¥°
- åŠ¨ç”»è¿‡æ¸¡æ•ˆæœå¢å¼ºç”¨æˆ·ä½“éªŒ
- æ¸…æ™°çš„ä¿¡æ¯å±‚çº§

#### **2. ç¤¾åŒºéªŒè¯ç•Œé¢**
```tsx
interface CommunityValidatorUI {
  // å¾…éªŒè¯è¯·æ±‚åˆ—è¡¨
  pendingRequests: RequestList;
  
  // è¯·æ±‚è¯¦æƒ…å±•ç¤º
  requestDetails: DetailedCard;
  requesterHistory: ReputationDisplay;
  evidenceViewer: FileGallery;
  
  // éªŒè¯æŠ•ç¥¨åŒºåŸŸ
  votingPanel: VotingInterface;
  reasonInput: TextArea;
  confidenceSlider: RangeSlider;
  
  // æˆ‘çš„éªŒè¯å†å²
  myValidations: ValidationHistory;
  accuracyStats: StatisticsCard;
}
```

**ç”¨æˆ·ä½“éªŒè¦ç‚¹:**
- å¿«é€Ÿæµè§ˆå’Œå†³ç­–ç•Œé¢
- è¯æ®ææ–™è½»æ¾æŸ¥çœ‹
- æŠ•ç¥¨ç†ç”±æ¨¡æ¿åŒ–é€‰é¡¹
- å®æ—¶æŠ•ç¥¨è¿›åº¦æ˜¾ç¤º

#### **3. NFTæ”¶è—å±•ç¤ºç•Œé¢**
```tsx
interface NFTGalleryUI {
  // æ”¶è—æ¦‚è§ˆ
  collectionStats: StatsOverview;
  milestoneProgress: ProgressIndicator;
  
  // NFTç½‘æ ¼å±•ç¤º
  nftGrid: ResponsiveGrid;
  rarityFilter: FilterTabs;
  
  // NFTè¯¦æƒ…
  nftDetailModal: DetailModal;
  transferOptions: ActionMenu;
  
  // æ”¶è—å¥–åŠ±
  bonusPanel: RewardsDisplay;
  claimButtons: ActionButtons;
}
```

**è®¾è®¡äº®ç‚¹:**
- ç€‘å¸ƒæµæˆ–ç½‘æ ¼å¸ƒå±€é€‚é…ä¸åŒå±å¹•
- ç¨€æœ‰åº¦ç”¨ä¸åŒè¾¹æ¡†å’Œæ•ˆæœåŒºåˆ†
- æ”¶è—è¿›åº¦æ¡å¯è§†åŒ–
- è½¬èµ åŠŸèƒ½çªå‡ºç¤¾åŒºäº’åŠ©ç†å¿µ

---

## ğŸ“Š **çŠ¶æ€ç®¡ç†æ¶æ„**

### **å…¨å±€çŠ¶æ€è®¾è®¡**
```typescript
// ä½¿ç”¨ Zustand ç®¡ç†å…¨å±€çŠ¶æ€
interface AppState {
  // ç”¨æˆ·çŠ¶æ€
  user: {
    profile: UserProfile | null;
    walletAddress: string | null;
    reputation: ReputationScore;
    nftCollection: NFTCollection;
  };
  
  // äº’åŠ©ç³»ç»ŸçŠ¶æ€
  mutualAid: {
    myRequests: AidRequest[];
    validationQueue: ValidationRequest[];
    distributionHistory: Distribution[];
  };
  
  // UIçŠ¶æ€
  ui: {
    theme: 'light' | 'dark';
    language: 'zh' | 'en';
    sidebarOpen: boolean;
    currentModal: string | null;
  };
  
  // Web3çŠ¶æ€
  web3: {
    connected: boolean;
    networkId: number;
    balance: TokenBalance;
    transactions: Transaction[];
  };
}
```

### **æ•°æ®æµè®¾è®¡**
```typescript
// React Query å¤„ç†æœåŠ¡å™¨çŠ¶æ€
const useAdversityAnalysis = () => {
  return useQuery({
    queryKey: ['adversity-analysis'],
    queryFn: fetchAdversityAnalysis,
    staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿ
    refetchOnWindowFocus: false,
  });
};

// ä¹è§‚æ›´æ–°æ¨¡å¼
const useSubmitAidRequest = () => {
  return useMutation({
    mutationFn: submitAidRequest,
    onMutate: async (newRequest) => {
      // ä¹è§‚æ›´æ–°æœ¬åœ°çŠ¶æ€
      await queryClient.cancelQueries(['aid-requests']);
      const previousRequests = queryClient.getQueryData(['aid-requests']);
      
      queryClient.setQueryData(['aid-requests'], (old: any[]) => [
        ...old,
        { ...newRequest, status: 'pending', id: Date.now() }
      ]);
      
      return { previousRequests };
    },
    onError: (err, newRequest, context) => {
      // é”™è¯¯å›æ»š
      queryClient.setQueryData(['aid-requests'], context?.previousRequests);
    },
    onSuccess: () => {
      queryClient.invalidateQueries(['aid-requests']);
    },
  });
};
```

---

## ğŸ­ **åŠ¨ç”»å’Œäº¤äº’è®¾è®¡**

### **å¾®äº¤äº’è®¾è®¡**
```typescript
// Framer Motion åŠ¨ç”»é…ç½®
const animations = {
  // é¡µé¢åˆ‡æ¢åŠ¨ç”»
  pageTransition: {
    initial: { opacity: 0, x: 20 },
    animate: { opacity: 1, x: 0 },
    exit: { opacity: 0, x: -20 },
    transition: { duration: 0.3 }
  },
  
  // å¡ç‰‡æ‚¬åœæ•ˆæœ
  cardHover: {
    whileHover: { 
      scale: 1.02, 
      boxShadow: "0 10px 25px rgba(0,0,0,0.1)" 
    },
    transition: { type: "spring", stiffness: 300 }
  },
  
  // æŒ‰é’®ç‚¹å‡»åé¦ˆ
  buttonTap: {
    whileTap: { scale: 0.95 },
    transition: { duration: 0.1 }
  },
  
  // æ•°æ®åŠ è½½åŠ¨ç”»
  dataLoading: {
    animate: { rotate: 360 },
    transition: { 
      repeat: Infinity, 
      duration: 1,
      ease: "linear"
    }
  }
};
```

### **æ‰‹åŠ¿äº¤äº’è®¾è®¡**
```typescript
// ç§»åŠ¨ç«¯æ‰‹åŠ¿æ”¯æŒ
const gestureConfig = {
  // å¡ç‰‡æ»‘åŠ¨æ“ä½œ
  swipeActions: {
    swipeLeft: 'approve',   // å·¦æ»‘æ‰¹å‡†
    swipeRight: 'reject',   // å³æ»‘æ‹’ç»
    threshold: 100          // è§¦å‘é˜ˆå€¼
  },
  
  // ä¸‹æ‹‰åˆ·æ–°
  pullToRefresh: {
    enabled: true,
    refreshThreshold: 80
  },
  
  // é•¿æŒ‰èœå•
  longPress: {
    duration: 500,
    actions: ['share', 'bookmark', 'report']
  }
};
```

---

## ğŸ”„ **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**

### **ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½**
```typescript
// è·¯ç”±çº§ä»£ç åˆ†å‰²
const MutualAidPage = lazy(() => import('./pages/MutualAidPage'));
const NFTGalleryPage = lazy(() => import('./pages/NFTGalleryPage'));
const GovernancePage = lazy(() => import('./pages/GovernancePage'));

// ç»„ä»¶çº§æ‡’åŠ è½½
const HeavyAnalysisComponent = lazy(() => import('./components/HeavyAnalysisComponent'));

// å›¾ç‰‡æ‡’åŠ è½½
const LazyImage = ({ src, alt, ...props }) => {
  const [imageSrc, setImageSrc] = useState('');
  const [imageRef, imageInView] = useInView();

  useEffect(() => {
    if (imageInView) {
      setImageSrc(src);
    }
  }, [imageInView, src]);

  return (
    <div ref={imageRef}>
      {imageSrc && <img src={imageSrc} alt={alt} {...props} />}
    </div>
  );
};
```

### **ç¼“å­˜ç­–ç•¥**
```typescript
// Service Worker ç¼“å­˜é…ç½®
const cacheConfig = {
  // é™æ€èµ„æºç¼“å­˜
  staticAssets: {
    strategy: 'StaleWhileRevalidate',
    maxAge: 24 * 60 * 60 // 24å°æ—¶
  },
  
  // APIæ•°æ®ç¼“å­˜
  apiData: {
    strategy: 'NetworkFirst',
    maxAge: 5 * 60 // 5åˆ†é’Ÿ
  },
  
  // å›¾ç‰‡ç¼“å­˜
  images: {
    strategy: 'CacheFirst',
    maxAge: 7 * 24 * 60 * 60 // 7å¤©
  }
};
```

---

## ğŸŒ **å›½é™…åŒ–æ”¯æŒ**

### **å¤šè¯­è¨€æ¶æ„**
```typescript
// è¯­è¨€é…ç½®
const i18nConfig = {
  defaultLanguage: 'zh',
  supportedLanguages: ['zh', 'en'],
  fallbackLanguage: 'zh',
  
  // å‘½åç©ºé—´åˆ†ç¦»
  namespaces: [
    'common',      // é€šç”¨è¯æ±‡
    'mutual-aid',  // äº’åŠ©ç³»ç»Ÿ
    'fortune',     // ç®—å‘½ç³»ç»Ÿ
    'nft',         // NFTç›¸å…³
    'web3'         // Web3æœ¯è¯­
  ]
};

// ä½¿ç”¨ç¤ºä¾‹
const { t } = useTranslation('mutual-aid');
const title = t('adversity-analysis.title');
const description = t('adversity-analysis.description');
```

### **æœ¬åœ°åŒ–å†…å®¹**
```json
{
  "zh": {
    "mutual-aid": {
      "adversity-analysis": {
        "title": "å„è¿é¢„è­¦åˆ†æ",
        "description": "åŸºäºä¼ ç»Ÿæ™ºæ…§å’ŒAIæŠ€æœ¯çš„å›°éš¾é¢„æµ‹"
      },
      "community-validation": {
        "title": "ç¤¾åŒºéªŒè¯",
        "vote-approve": "åŒæ„èµ„åŠ©",
        "vote-reject": "æ‹’ç»ç”³è¯·"
      }
    }
  },
  "en": {
    "mutual-aid": {
      "adversity-analysis": {
        "title": "Adversity Prediction",
        "description": "AI-powered difficulty prediction based on traditional wisdom"
      },
      "community-validation": {
        "title": "Community Validation",
        "vote-approve": "Approve Aid",
        "vote-reject": "Reject Request"
      }
    }
  }
}
```

---

## ğŸ“± **ç§»åŠ¨ç«¯é€‚é…ç­–ç•¥**

### **ç§»åŠ¨ç«¯ä¸“ç”¨ç»„ä»¶**
```tsx
// ç§»åŠ¨ç«¯å¯¼èˆª
const MobileNavigation = () => {
  return (
    <nav className="fixed bottom-0 w-full bg-white border-t">
      <div className="flex justify-around py-2">
        <NavItem icon={HomeIcon} label="é¦–é¡µ" />
        <NavItem icon={HandIcon} label="äº’åŠ©" />
        <NavItem icon={StarIcon} label="ç®—å‘½" />
        <NavItem icon={CollectionIcon} label="æ”¶è—" />
        <NavItem icon={UserIcon} label="æˆ‘çš„" />
      </div>
    </nav>
  );
};

// ç§»åŠ¨ç«¯æ‰‹åŠ¿æ“ä½œ
const SwipeableCard = ({ children, onSwipeLeft, onSwipeRight }) => {
  const { direction, velocity } = useSwipeable({
    onSwipedLeft: onSwipeLeft,
    onSwipedRight: onSwipeRight,
    threshold: 50,
    velocity: 0.3
  });

  return (
    <motion.div
      drag="x"
      dragConstraints={{ left: -100, right: 100 }}
      dragElastic={0.2}
      onDragEnd={(event, info) => {
        if (info.offset.x > 100) onSwipeRight?.();
        if (info.offset.x < -100) onSwipeLeft?.();
      }}
    >
      {children}
    </motion.div>
  );
};
```

### **è§¦æ‘¸ä¼˜åŒ–**
```css
/* è§¦æ‘¸ç›®æ ‡å°ºå¯¸ä¼˜åŒ– */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  cursor: pointer;
}

/* è§¦æ‘¸åé¦ˆ */
.touch-feedback:active {
  background-color: rgba(0, 0, 0, 0.1);
  transform: scale(0.98);
  transition: all 0.1s ease;
}

/* é˜²æ­¢æ„å¤–ç¼©æ”¾ */
.no-zoom {
  touch-action: manipulation;
  user-select: none;
}
```

---

## ğŸ§ª **æµ‹è¯•ç­–ç•¥**

### **ç»„ä»¶æµ‹è¯•**
```typescript
// Jest + React Testing Library
describe('AdversityAnalyzer', () => {
  test('should display analysis result correctly', () => {
    const mockResult = {
      severityLevel: 7,
      mutualAidEligible: true,
      recommendedAmount: '75'
    };

    render(<AdversityAnalyzer result={mockResult} />);
    
    expect(screen.getByText('ä¸¥é‡ç¨‹åº¦: 7/10')).toBeInTheDocument();
    expect(screen.getByText('å»ºè®®èµ„åŠ©é‡‘é¢: 75 AZI')).toBeInTheDocument();
  });
});
```

### **E2Eæµ‹è¯•**
```typescript
// Playwright E2Eæµ‹è¯•
test('mutual aid request flow', async ({ page }) => {
  await page.goto('/mutual-aid');
  
  // è¿æ¥é’±åŒ…
  await page.click('[data-testid="connect-wallet"]');
  await page.waitForSelector('[data-testid="wallet-connected"]');
  
  // æäº¤å„è¿åˆ†æ
  await page.fill('[data-testid="situation-input"]', 'å¤±ä¸šå‹åŠ›');
  await page.click('[data-testid="analyze-button"]');
  
  // éªŒè¯åˆ†æç»“æœ
  await expect(page.locator('[data-testid="severity-level"]')).toBeVisible();
  
  // ç”³è¯·äº’åŠ©
  if (await page.locator('[data-testid="aid-eligible"]').isVisible()) {
    await page.click('[data-testid="request-aid"]');
    await expect(page.locator('[data-testid="request-submitted"]')).toBeVisible();
  }
});
```

---

## ğŸ”§ **å¼€å‘å·¥å…·é…ç½®**

### **VSCodeé…ç½®**
```json
{
  "recommendations": [
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense"
  ],
  "settings": {
    "typescript.preferences.importModuleSpecifier": "relative",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.eslint": true
    }
  }
}
```

### **Prettieré…ç½®**
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "arrowParens": "avoid"
}
```

---

## ğŸ“ˆ **ç›‘æ§å’Œåˆ†æ**

### **ç”¨æˆ·è¡Œä¸ºåˆ†æ**
```typescript
// å…³é”®ç”¨æˆ·è¡Œä¸ºåŸ‹ç‚¹
const analytics = {
  // äº’åŠ©ç³»ç»Ÿå…³é”®æŒ‡æ ‡
  trackAdversityAnalysisSubmission: (data) => {
    track('adversity_analysis_submitted', {
      severity_level: data.severityLevel,
      mutual_aid_eligible: data.eligible,
      user_segment: getUserSegment()
    });
  },
  
  // ç¤¾åŒºéªŒè¯å‚ä¸åº¦
  trackValidationVote: (vote) => {
    track('validation_vote_cast', {
      vote_type: vote.type,
      confidence_level: vote.confidence,
      user_reputation: getCurrentUserReputation()
    });
  },
  
  // NFTäº¤äº’è¡Œä¸º
  trackNFTInteraction: (action, nftId) => {
    track('nft_interaction', {
      action: action, // 'view', 'transfer', 'collect'
      nft_id: nftId,
      collection_size: getUserNFTCount()
    });
  }
};
```

### **æ€§èƒ½ç›‘æ§**
```typescript
// Web Vitalsç›‘æ§
import { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';

const reportWebVitals = (metric) => {
  // å‘é€åˆ°åˆ†ææœåŠ¡
  analytics.track('web_vital', {
    name: metric.name,
    value: metric.value,
    page: window.location.pathname
  });
};

getCLS(reportWebVitals);
getFID(reportWebVitals);
getFCP(reportWebVitals);
getLCP(reportWebVitals);
getTTFB(reportWebVitals);
```

---

## ğŸ¯ **æ¥ä¸‹æ¥çš„å®ç°è®¡åˆ’**

### **ç¬¬ä¸€é˜¶æ®µ: æ ¸å¿ƒç»„ä»¶å¼€å‘**
1. **åŸºç¡€UIç»„ä»¶åº“** - Button, Input, Card, Modalç­‰
2. **å¸ƒå±€ç»„ä»¶** - å“åº”å¼å¸ƒå±€ç³»ç»Ÿ
3. **çŠ¶æ€ç®¡ç†** - Zustand storeè®¾ç½®
4. **è·¯ç”±ç»“æ„** - Next.jsåº”ç”¨è·¯ç”±

### **ç¬¬äºŒé˜¶æ®µ: äº’åŠ©ç³»ç»Ÿç•Œé¢**
1. **å„è¿åˆ†æç•Œé¢** - ç”¨æˆ·è¾“å…¥å’ŒAIåˆ†æç»“æœå±•ç¤º
2. **ç¤¾åŒºéªŒè¯ç•Œé¢** - å¾…éªŒè¯è¯·æ±‚åˆ—è¡¨å’ŒæŠ•ç¥¨ç•Œé¢
3. **ä¸ªäººdashboard** - ç”¨æˆ·äº’åŠ©å†å²å’Œç»Ÿè®¡

### **ç¬¬ä¸‰é˜¶æ®µ: é«˜çº§åŠŸèƒ½**
1. **NFTç”»å»Š** - æ”¶è—å±•ç¤ºå’Œç®¡ç†
2. **ç¤¾åŒºæ²»ç†** - ææ¡ˆå’ŒæŠ•ç¥¨ç•Œé¢
3. **ç§»åŠ¨ç«¯ä¼˜åŒ–** - PWAåŠŸèƒ½å’Œæ‰‹åŠ¿æ“ä½œ

---

**æ–‡æ¡£çŠ¶æ€**: âœ… **å®Œæˆ**  
**ä¸‹ä¸€æ­¥**: å¼€å§‹å®ç°æ ¸å¿ƒUIç»„ä»¶  
**é¢„ä¼°æ—¶é—´**: 2-3å‘¨å®Œæˆå®Œæ•´å‰ç«¯æ¶æ„

*"å°†ä¼ ç»Ÿæ™ºæ…§ä¸ç°ä»£æŠ€æœ¯å®Œç¾èåˆçš„ç”¨æˆ·ç•Œé¢è®¾è®¡"*