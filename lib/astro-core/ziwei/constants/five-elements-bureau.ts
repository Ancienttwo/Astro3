/**
 * 紫微斗数五行局常量
 * Five Elements Bureau Constants for ZiWei DouShu
 */

// 五行局查对表 - 正确的紫微斗数五行局表
// 使用年天干 + 命宫地支查表
export const FIVE_ELEMENTS_BUREAU: Record<string, string> = {
  // 甲己组
  '甲子': '水二局', '甲丑': '水二局',
  '甲寅': '火六局', '甲卯': '火六局',
  '甲辰': '木三局', '甲巳': '木三局',
  '甲午': '土五局', '甲未': '土五局',
  '甲申': '金四局', '甲酉': '金四局',
  '甲戌': '火六局', '甲亥': '火六局',
  
  '己子': '水二局', '己丑': '水二局',
  '己寅': '火六局', '己卯': '火六局',
  '己辰': '木三局', '己巳': '木三局',
  '己午': '土五局', '己未': '土五局',
  '己申': '金四局', '己酉': '金四局',
  '己戌': '火六局', '己亥': '火六局',
  
  // 乙庚组
  '乙子': '火六局', '乙丑': '火六局',
  '乙寅': '土五局', '乙卯': '土五局',
  '乙辰': '金四局', '乙巳': '金四局',
  '乙午': '木三局', '乙未': '木三局',
  '乙申': '水二局', '乙酉': '水二局',
  '乙戌': '土五局', '乙亥': '土五局',
  
  '庚子': '火六局', '庚丑': '火六局',
  '庚寅': '土五局', '庚卯': '土五局',
  '庚辰': '金四局', '庚巳': '金四局',
  '庚午': '木三局', '庚未': '木三局',
  '庚申': '水二局', '庚酉': '水二局',
  '庚戌': '土五局', '庚亥': '土五局',
  
  // 丙辛组
  '丙子': '土五局', '丙丑': '土五局',
  '丙寅': '木三局', '丙卯': '木三局',
  '丙辰': '水二局', '丙巳': '水二局',
  '丙午': '金四局', '丙未': '金四局',
  '丙申': '火六局', '丙酉': '火六局',
  '丙戌': '木三局', '丙亥': '木三局',
  
  '辛子': '土五局', '辛丑': '土五局',
  '辛寅': '木三局', '辛卯': '木三局',
  '辛辰': '水二局', '辛巳': '水二局',
  '辛午': '金四局', '辛未': '金四局',
  '辛申': '火六局', '辛酉': '火六局',
  '辛戌': '木三局', '辛亥': '木三局',
  
  // 丁壬组
  '丁子': '木三局', '丁丑': '木三局',
  '丁寅': '金四局', '丁卯': '金四局',
  '丁辰': '火六局', '丁巳': '火六局',
  '丁午': '水二局', '丁未': '水二局',
  '丁申': '土五局', '丁酉': '土五局',
  '丁戌': '金四局', '丁亥': '金四局',
  
  '壬子': '木三局', '壬丑': '木三局',
  '壬寅': '金四局', '壬卯': '金四局',
  '壬辰': '火六局', '壬巳': '火六局',
  '壬午': '水二局', '壬未': '水二局',
  '壬申': '土五局', '壬酉': '土五局',
  '壬戌': '金四局', '壬亥': '金四局',
  
  // 戊癸组
  '戊子': '金四局', '戊丑': '金四局',
  '戊寅': '水二局', '戊卯': '水二局',
  '戊辰': '土五局', '戊巳': '土五局',
  '戊午': '火六局', '戊未': '火六局',
  '戊申': '木三局', '戊酉': '木三局',
  '戊戌': '水二局', '戊亥': '水二局',
  
  '癸子': '金四局', '癸丑': '金四局',
  '癸寅': '水二局', '癸卯': '水二局',
  '癸辰': '土五局', '癸巳': '土五局',
  '癸午': '火六局', '癸未': '火六局',
  '癸申': '木三局', '癸酉': '木三局',
  '癸戌': '水二局', '癸亥': '水二局'
}

// 五行局名称到表格列索引的映射
export const BUREAU_NAME_TO_COLUMN: Record<string, number> = {
  '水二局': 0,
  '木三局': 1, 
  '金四局': 2,
  '土五局': 3,
  '火六局': 4
}

// 五行局代码到列索引的映射
export const BUREAU_CODE_TO_COLUMN: Record<string, number> = {
  'water_2': 0,
  'wood_3': 1,
  'metal_4': 2,
  'earth_5': 3,
  'fire_6': 4
}

// 五行局索引映射 (中文格式)
export const BUREAU_TO_COLUMN: Record<string, number> = {
  '水二局': 0, 
  '木三局': 1, 
  '金四局': 2,
  '土五局': 3, 
  '火六局': 4
}

// 大运起运岁数表 (Major Period Start Age Table)
// 根据五行局和阴阳确定起运岁数 [阳年起运岁数, 阴年起运岁数]
export const MAJOR_PERIOD_START_AGE: Record<string, [number, number]> = {
  'water_2': [2, 2],  // 水二局：[阳年2岁, 阴年2岁]
  'wood_3': [3, 3],   // 木三局：[阳年3岁, 阴年3岁]
  'metal_4': [4, 4],  // 金四局：[阳年4岁, 阴年4岁]（修正：此前误写 gold_4 导致回退为 6/5）
  'earth_5': [5, 5],  // 土五局：[阳年5岁, 阴年5岁]
  'fire_6': [6, 6]    // 火六局：[阳年6岁, 阴年6岁]
}

// Type definitions for five elements bureau
export type FiveElementsBureauName = '水二局' | '木三局' | '金四局' | '土五局' | '火六局'
export type FiveElementsBureauCode = 'water_2' | 'wood_3' | 'metal_4' | 'earth_5' | 'fire_6'
